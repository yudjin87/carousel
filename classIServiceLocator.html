<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Carousel: IServiceLocator Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Carousel
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Properties</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">IServiceLocator Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The abstract <a class="el" href="classIServiceLocator.html" title="The abstract IServiceLocator class provides central registry of the types and instances.">IServiceLocator</a> class provides central registry of the types and instances.  
 <a href="classIServiceLocator.html#details">More...</a></p>

<p><code>#include &lt;IServiceLocator.h&gt;</code></p>

<p>Inherited by <a class="el" href="classServiceLocator.html">ServiceLocator</a>.</p>

<p><a href="classIServiceLocator-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a85762c8e566bf23b2aadaa535833ebeb"><td class="memTemplParams" colspan="2">template&lt;typename TInterface , typename TConcreteClass &gt; </td></tr>
<tr class="memitem:a85762c8e566bf23b2aadaa535833ebeb"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classIServiceLocator.html#a85762c8e566bf23b2aadaa535833ebeb">bindType</a> (const <a class="elRef" doxygen="qt.tag:http://qt-project.org/doc/qt-4.8//" href="http://qt-project.org/doc/qt-4.8/qstring.html">QString</a> &amp;tag)</td></tr>
<tr class="memitem:a6bf11f58d0be39d4f3de21d5e60e5908"><td class="memTemplParams" colspan="2">template&lt;typename TInterface , typename TConcreteClass &gt; </td></tr>
<tr class="memitem:a6bf11f58d0be39d4f3de21d5e60e5908"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classIServiceLocator.html#a6bf11f58d0be39d4f3de21d5e60e5908">bindType</a> ()</td></tr>
<tr class="memitem:afb825be0ef415a002f5d73357510cb51"><td class="memTemplParams" colspan="2">template&lt;typename TInterface &gt; </td></tr>
<tr class="memitem:afb825be0ef415a002f5d73357510cb51"><td class="memTemplItemLeft" align="right" valign="top">TInterface *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classIServiceLocator.html#afb825be0ef415a002f5d73357510cb51">buildInstance</a> () const </td></tr>
<tr class="memitem:a6a6b63d3177908f6af4e8c8d3add5002"><td class="memTemplParams" colspan="2">template&lt;typename TInterface &gt; </td></tr>
<tr class="memitem:a6a6b63d3177908f6af4e8c8d3add5002"><td class="memTemplItemLeft" align="right" valign="top">TInterface *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classIServiceLocator.html#a6a6b63d3177908f6af4e8c8d3add5002">buildInstance</a> (const <a class="elRef" doxygen="qt.tag:http://qt-project.org/doc/qt-4.8//" href="http://qt-project.org/doc/qt-4.8/qstring.html">QString</a> &amp;tag) const </td></tr>
<tr class="memitem:acf84fb9416347d51609e60f3e61089ed"><td class="memTemplParams" colspan="2">template&lt;typename TService &gt; </td></tr>
<tr class="memitem:acf84fb9416347d51609e60f3e61089ed"><td class="memTemplItemLeft" align="right" valign="top">TService *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classIServiceLocator.html#acf84fb9416347d51609e60f3e61089ed">locate</a> ()</td></tr>
<tr class="memitem:aae3aa539d0b7d6bb3ebf75658dff36d5"><td class="memTemplParams" colspan="2">template&lt;typename TService &gt; </td></tr>
<tr class="memitem:aae3aa539d0b7d6bb3ebf75658dff36d5"><td class="memTemplItemLeft" align="right" valign="top">TService *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classIServiceLocator.html#aae3aa539d0b7d6bb3ebf75658dff36d5">locate</a> (const <a class="elRef" doxygen="qt.tag:http://qt-project.org/doc/qt-4.8//" href="http://qt-project.org/doc/qt-4.8/qstring.html">QString</a> &amp;tag)</td></tr>
<tr class="memitem:a1c1652e0858eed9863b44be8ef922bea"><td class="memTemplParams" colspan="2">template&lt;typename TService &gt; </td></tr>
<tr class="memitem:a1c1652e0858eed9863b44be8ef922bea"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classIServiceLocator.html#a1c1652e0858eed9863b44be8ef922bea">registerInstance</a> (TService *instance)</td></tr>
<tr class="memitem:a7fd49602c83a2407fd494af44d67bb05"><td class="memTemplParams" colspan="2">template&lt;typename TService &gt; </td></tr>
<tr class="memitem:a7fd49602c83a2407fd494af44d67bb05"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classIServiceLocator.html#a7fd49602c83a2407fd494af44d67bb05">registerInstance</a> (TService *instance, const <a class="elRef" doxygen="qt.tag:http://qt-project.org/doc/qt-4.8//" href="http://qt-project.org/doc/qt-4.8/qstring.html">QString</a> &amp;tag)</td></tr>
<tr class="memitem:ae7e3d914fb9a2551eef83fbe41b7db7b"><td class="memTemplParams" colspan="2">template&lt;typename TInterface &gt; </td></tr>
<tr class="memitem:ae7e3d914fb9a2551eef83fbe41b7db7b"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classIServiceLocator.html#ae7e3d914fb9a2551eef83fbe41b7db7b">registerType</a> (factoryMethod method)</td></tr>
<tr class="memitem:a741fc7788a0db0b71c7e530a0507eddc"><td class="memTemplParams" colspan="2">template&lt;typename TInterface &gt; </td></tr>
<tr class="memitem:a741fc7788a0db0b71c7e530a0507eddc"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classIServiceLocator.html#a741fc7788a0db0b71c7e530a0507eddc">registerType</a> (factoryMethod method, const <a class="elRef" doxygen="qt.tag:http://qt-project.org/doc/qt-4.8//" href="http://qt-project.org/doc/qt-4.8/qstring.html">QString</a> &amp;tag)</td></tr>
<tr class="memitem:a2bf7a7ebe54816b14dbbad4f4a34e4f0"><td class="memTemplParams" colspan="2">template&lt;typename TService &gt; </td></tr>
<tr class="memitem:a2bf7a7ebe54816b14dbbad4f4a34e4f0"><td class="memTemplItemLeft" align="right" valign="top">TService *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classIServiceLocator.html#a2bf7a7ebe54816b14dbbad4f4a34e4f0">unregisterInstance</a> (const <a class="elRef" doxygen="qt.tag:http://qt-project.org/doc/qt-4.8//" href="http://qt-project.org/doc/qt-4.8/qstring.html">QString</a> &amp;tag)</td></tr>
<tr class="memitem:a1576e31890d3931ab9bbaec3e5b0d41e"><td class="memTemplParams" colspan="2">template&lt;typename TService &gt; </td></tr>
<tr class="memitem:a1576e31890d3931ab9bbaec3e5b0d41e"><td class="memTemplItemLeft" align="right" valign="top">TService *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classIServiceLocator.html#a1576e31890d3931ab9bbaec3e5b0d41e">unregisterInstance</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a7ce1ab2edb383b28080c6b3715470c9c"><td class="memItemLeft" align="right" valign="top">virtual void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIServiceLocator.html#a7ce1ab2edb383b28080c6b3715470c9c">buildInstanceImpl</a> (const <a class="elRef" doxygen="qt.tag:http://qt-project.org/doc/qt-4.8//" href="http://qt-project.org/doc/qt-4.8/qstring.html">QString</a> &amp;forClassName, const <a class="elRef" doxygen="qt.tag:http://qt-project.org/doc/qt-4.8//" href="http://qt-project.org/doc/qt-4.8/qstring.html">QString</a> &amp;tag) const =0</td></tr>
<tr class="memitem:af25e5d85e72544f1d6a6abdda231e205"><td class="memItemLeft" align="right" valign="top">virtual void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIServiceLocator.html#af25e5d85e72544f1d6a6abdda231e205">getService</a> (const <a class="elRef" doxygen="qt.tag:http://qt-project.org/doc/qt-4.8//" href="http://qt-project.org/doc/qt-4.8/qstring.html">QString</a> &amp;forClassName, const <a class="elRef" doxygen="qt.tag:http://qt-project.org/doc/qt-4.8//" href="http://qt-project.org/doc/qt-4.8/qstring.html">QString</a> &amp;tag) const =0</td></tr>
<tr class="memitem:a614c9500e33f0930f58932ae18ba3a1d"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIServiceLocator.html#a614c9500e33f0930f58932ae18ba3a1d">registerInstanceImpl</a> (void *instance, const <a class="elRef" doxygen="qt.tag:http://qt-project.org/doc/qt-4.8//" href="http://qt-project.org/doc/qt-4.8/qstring.html">QString</a> &amp;forClassName, const <a class="elRef" doxygen="qt.tag:http://qt-project.org/doc/qt-4.8//" href="http://qt-project.org/doc/qt-4.8/qstring.html">QString</a> &amp;tag)=0</td></tr>
<tr class="memitem:a53fac4e48c42c8636acba15e07db561f"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIServiceLocator.html#a53fac4e48c42c8636acba15e07db561f">registerTypeImpl</a> (const <a class="elRef" doxygen="qt.tag:http://qt-project.org/doc/qt-4.8//" href="http://qt-project.org/doc/qt-4.8/qstring.html">QString</a> &amp;forClassName, factoryMethod method, const <a class="elRef" doxygen="qt.tag:http://qt-project.org/doc/qt-4.8//" href="http://qt-project.org/doc/qt-4.8/qstring.html">QString</a> &amp;tag)=0</td></tr>
<tr class="memitem:a3c5e1fcd65a87a5f5f66987fdb16b121"><td class="memItemLeft" align="right" valign="top">virtual void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIServiceLocator.html#a3c5e1fcd65a87a5f5f66987fdb16b121">unregisterInstanceImpl</a> (const <a class="elRef" doxygen="qt.tag:http://qt-project.org/doc/qt-4.8//" href="http://qt-project.org/doc/qt-4.8/qstring.html">QString</a> &amp;forClassName, const <a class="elRef" doxygen="qt.tag:http://qt-project.org/doc/qt-4.8//" href="http://qt-project.org/doc/qt-4.8/qstring.html">QString</a> &amp;tag)=0</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>The abstract <a class="el" href="classIServiceLocator.html" title="The abstract IServiceLocator class provides central registry of the types and instances.">IServiceLocator</a> class provides central registry of the types and instances. </p>
<p>The main <a class="el" href="classIServiceLocator.html" title="The abstract IServiceLocator class provides central registry of the types and instances.">IServiceLocator</a> purpose is application/library sections separating, so the only link between them becomes the service registry. User types and instances (services) may be added during loading sequence, or by components and can be accessed from application.</p>
<p>To register your own global services or type factories, you should to override <a class="el" href="classBootloaderBase.html#a2ad58a1b3f7f728cba22eb2ecf7d1e7a">BootloaderBase::configureServiceLocator()</a> function and register your own services (if you develop own application), or you can extend registry registering the component services and type factories at the <a class="el" href="classIComponent.html#a3770f4fa311a93fa6fb4eac4344807fc">IComponent::startup()</a> member (if you develop extensions for the application). Further you can obtain current service through the template <a class="el" href="classIServiceLocator.html#acf84fb9416347d51609e60f3e61089ed">IServiceLocator::locate()</a> member, where template parameter is the expected service typemor <a class="el" href="classIServiceLocator.html#afb825be0ef415a002f5d73357510cb51">IServiceLocator::buildInstance()</a> to create pure abstract class (interface) without knowledge of concrete class.</p>
<p>The services and type factories are unique in the registry, and this uniqueness is defined by the two parameters: registered class name (obtained through <em>meta-object</em>) and the tag. So, if you want to register existing service type or existing type factory you have to adding the unique tag for it. The service or type factory registered without special tag will be tagged with "" (empty string) in service locator implementation.</p>
<p>If you call <a class="el" href="classCarouselBootloader.html#a44e9fabfc9828c1bece6dde41334d219">CarouselBootloader::configureServiceLocator()</a> from your derived loader class, the <a class="el" href="classIComponentProvider.html" title="This is the expected provider definition for the boot loading sequence.">IComponentProvider</a>, <a class="elRef" doxygen="qt.tag:http://qt-project.org/doc/qt-4.8//" href="http://qt-project.org/doc/qt-4.8/qmainwindow.html">QMainWindow</a> and <a class="el" href="classIComponentManager.html" title="The IComponentManager holds information about the components that can be used by the application...">IComponentManager</a> will be registered.</p>
<p>Here is simple example of service locator usage: </p>
<div class="fragment"><pre class="fragment">   <span class="keyword">class </span>IA : <span class="keyword">public</span> <a class="codeRef" doxygen="qt.tag:http://qt-project.org/doc/qt-4.8//" href="http://qt-project.org/doc/qt-4.8/qobject.html">QObject</a> {
     Q_OBJECT
     <span class="keyword">public</span>: <span class="keyword">virtual</span> ~IA(){}
     };

   <span class="keyword">class </span>A : <span class="keyword">public</span> IA {
     Q_OBJECT
     <span class="keyword">public</span>: A(){}
     };

   <span class="keyword">class </span>IB {
     Q_OBJECT
     <span class="keyword">public</span>: <span class="keyword">virtual</span> ~IB(){}
     };

   <span class="keyword">class </span>B : <span class="keyword">public</span> IB {
     <span class="keyword">public</span>:
       B(IA* a) : m_a(a) {}

       IA* m_a;
     };

   <span class="keyword">class </span>IC : <span class="keyword">public</span> <a class="codeRef" doxygen="qt.tag:http://qt-project.org/doc/qt-4.8//" href="http://qt-project.org/doc/qt-4.8/qobject.html">QObject</a>{
     Q_OBJECT
     <span class="keyword">public</span>: <span class="keyword">virtual</span> ~IC(){}
     };

   <span class="keyword">class </span>C : <span class="keyword">public</span> IC {
     Q_OBJECT
     <span class="keyword">public</span>:
       C(IB* b, IA* a) : m_b(b) , m_a(a) {}

       IB* m_b;
       IA* m_a;
     };
</pre></div><p>Register type dependencies: </p>
<div class="fragment"><pre class="fragment">   <a class="code" href="classIServiceLocator.html" title="The abstract IServiceLocator class provides central registry of the types and instances.">IServiceLocator</a> *locator = <span class="keyword">new</span> <a class="code" href="classServiceLocator.html" title="The ServiceLocator class provides default implementation of the central registry of the services...">ServiceLocator</a>();
   locator-&gt;<a class="code" href="classIServiceLocator.html#a85762c8e566bf23b2aadaa535833ebeb">bindType</a>&lt;IA, A&gt;();

   locator-&gt;<a class="code" href="classIServiceLocator.html#ae7e3d914fb9a2551eef83fbe41b7db7b">registerType</a>&lt;IB&gt;([locator]() -&gt; IB*
     {
     IA* a = locator-&gt;<a class="code" href="classIServiceLocator.html#afb825be0ef415a002f5d73357510cb51">buildInstance</a>&lt;IA&gt;();
     IB* b = <span class="keyword">new</span> B(a);
     <span class="keywordflow">return</span> b;
     });

   locator-&gt;<a class="code" href="classIServiceLocator.html#ae7e3d914fb9a2551eef83fbe41b7db7b">registerType</a>&lt;IC&gt;([locator]()-&gt; IC*
     {
     IA* a = locator-&gt;<a class="code" href="classIServiceLocator.html#afb825be0ef415a002f5d73357510cb51">buildInstance</a>&lt;IA&gt;();
     IB* b = <span class="keyword">new</span> B(a);
     IC* c = <span class="keyword">new</span> C(b, a);
     <span class="keywordflow">return</span> c;
     });
</pre></div><p>Usage: </p>
<div class="fragment"><pre class="fragment">   IC *c1 = locator-&gt;<a class="code" href="classIServiceLocator.html#afb825be0ef415a002f5d73357510cb51">buildInstance</a>&lt;IC&gt;();
</pre></div><p> Here the cliens does not know what exactly instance is instantiated, and also they avoid all complex constructor injections.</p>
<p>Since <em>qobject_cast()</em> is used all services should be derived from the <a class="elRef" doxygen="qt.tag:http://qt-project.org/doc/qt-4.8//" href="http://qt-project.org/doc/qt-4.8/qobject.html">QObject</a> and have Q_OBJECT macro.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>tell about achieving the <a class="el" href="classIServiceLocator.html" title="The abstract IServiceLocator class provides central registry of the types and instances.">IServiceLocator</a> instance =&gt; from the <a class="el" href="classAbstractApplication.html">AbstractApplication</a> </dd></dl>
<dl class="section note"><dt>Note:</dt><dd>Does not take ownership of the services or of the created by factories types. </dd></dl>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a85762c8e566bf23b2aadaa535833ebeb"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename TInterface , typename TConcreteClass &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classIServiceLocator.html#a85762c8e566bf23b2aadaa535833ebeb">IServiceLocator::bindType</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="elRef" doxygen="qt.tag:http://qt-project.org/doc/qt-4.8//" href="http://qt-project.org/doc/qt-4.8/qstring.html">QString</a> &amp;&#160;</td>
          <td class="paramname"><em>tag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Binds an interface type with concrete class and specified tag with the locator. An instance of the concrete class will be returned on each <a class="el" href="classIServiceLocator.html#afb825be0ef415a002f5d73357510cb51">buildInstance()</a> method call.</p>
<p>It is a convinient method for the classes with parameterless constructors This method calls <a class="el" href="classIServiceLocator.html#ae7e3d914fb9a2551eef83fbe41b7db7b">registerType()</a> with specified <em>TInterface</em> and functor that just returns a new <em>TConcreteClass</em>. </p>

</div>
</div>
<a class="anchor" id="a6bf11f58d0be39d4f3de21d5e60e5908"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename TInterface , typename TConcreteClass &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classIServiceLocator.html#a85762c8e566bf23b2aadaa535833ebeb">IServiceLocator::bindType</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This is overload method. Binds an interface type with concrete class and empty tag with the locator. </p>

</div>
</div>
<a class="anchor" id="afb825be0ef415a002f5d73357510cb51"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename TInterface &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">TInterface * <a class="el" href="classIServiceLocator.html#afb825be0ef415a002f5d73357510cb51">IServiceLocator::buildInstance</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This is overload method. Creates and returns a <em>TInterface</em> pointer using empty tag and registered factory method, if any. Returns nullptr otherwise. </p>
<dl class="section note"><dt>Note:</dt><dd>Does not take ownership of the created pointer. </dd></dl>

</div>
</div>
<a class="anchor" id="a6a6b63d3177908f6af4e8c8d3add5002"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename TInterface &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">TInterface * <a class="el" href="classIServiceLocator.html#afb825be0ef415a002f5d73357510cb51">IServiceLocator::buildInstance</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="elRef" doxygen="qt.tag:http://qt-project.org/doc/qt-4.8//" href="http://qt-project.org/doc/qt-4.8/qstring.html">QString</a> &amp;&#160;</td>
          <td class="paramname"><em>tag</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Creates and returns a <em>TInterface</em> pointer using specified tag and registered factory method, if any. Returns nullptr otherwise. </p>
<dl class="section note"><dt>Note:</dt><dd>Does not take ownership of the created pointer. </dd></dl>

</div>
</div>
<a class="anchor" id="acf84fb9416347d51609e60f3e61089ed"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename TService &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">TService * <a class="el" href="classIServiceLocator.html#acf84fb9416347d51609e60f3e61089ed">IServiceLocator::locate</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Finds the service registered with <em>TService</em> type name and empty tag. </p>
<dl class="section return"><dt>Returns:</dt><dd>the corresponding service if such found. Null pointer otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="aae3aa539d0b7d6bb3ebf75658dff36d5"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename TService &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">TService * <a class="el" href="classIServiceLocator.html#acf84fb9416347d51609e60f3e61089ed">IServiceLocator::locate</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="elRef" doxygen="qt.tag:http://qt-project.org/doc/qt-4.8//" href="http://qt-project.org/doc/qt-4.8/qstring.html">QString</a> &amp;&#160;</td>
          <td class="paramname"><em>tag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Finds the service registered with <em>TService</em> type name and specified <em>tag</em>. </p>
<dl class="section return"><dt>Returns:</dt><dd>the corresponding service if such found. Null pointer otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a1c1652e0858eed9863b44be8ef922bea"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename TService &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classIServiceLocator.html#a1c1652e0858eed9863b44be8ef922bea">IServiceLocator::registerInstance</a> </td>
          <td>(</td>
          <td class="paramtype">TService *&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This is overload method. Registers a service instance with empty tag with the locator.</p>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="classIServiceLocator.html#a1576e31890d3931ab9bbaec3e5b0d41e">unregisterInstance()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a7fd49602c83a2407fd494af44d67bb05"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename TService &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classIServiceLocator.html#a1c1652e0858eed9863b44be8ef922bea">IServiceLocator::registerInstance</a> </td>
          <td>(</td>
          <td class="paramtype">TService *&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="qt.tag:http://qt-project.org/doc/qt-4.8//" href="http://qt-project.org/doc/qt-4.8/qstring.html">QString</a> &amp;&#160;</td>
          <td class="paramname"><em>tag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Registers a service instance with specified tag with the locator. It might be necessary to specify typename <em>TService</em> explicitly due to the static binding: </p>
<div class="fragment"><pre class="fragment">   MyService service;
   serviceLocator-&gt;registerInstance(&amp;service);                        <span class="comment">// will be registered &quot;class MyService&quot; - seems not what you expected</span>
   IMyService *locatedService = serviceLocator-&gt;locate&lt;IMyService&gt;()  <span class="comment">// returns null, because asked &quot;class IMyService&quot; does not found</span>
</pre></div><p> To avoid this you should explicitly specify registered typename: </p>
<div class="fragment"><pre class="fragment">   MyService service;
   serviceLocator-&gt;registerInstance&lt;IMyService&gt;(&amp;service);            <span class="comment">// will be registered &quot;class IMyService&quot; - good</span>
   IMyService *locatedService = serviceLocator-&gt;locate&lt;IMyService&gt;()  <span class="comment">// returns service pointer</span>
</pre></div><p> or register pointer to the service interface: </p>
<div class="fragment"><pre class="fragment">   IMyService *serviceInterface = <span class="keyword">new</span> MyService();
   serviceLocator-&gt;registerInstance(serviceInterface);                <span class="comment">// will be registered &quot;class IMyService&quot; - good</span>
   IMyService *locatedService = serviceLocator-&gt;locate&lt;IMyService&gt;()  <span class="comment">// returns service pointer</span>
</pre></div> <dl class=""><dt><b>Template Parameters:</b></dt><dd>
  <table class="">
    <tr><td class="paramname">TService</td><td>The type which type name <em>instance</em> should be associated while registered in locator with.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="classIServiceLocator.html#a1576e31890d3931ab9bbaec3e5b0d41e">unregisterInstance()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ae7e3d914fb9a2551eef83fbe41b7db7b"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename TInterface &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classIServiceLocator.html#ae7e3d914fb9a2551eef83fbe41b7db7b">IServiceLocator::registerType</a> </td>
          <td>(</td>
          <td class="paramtype">factoryMethod&#160;</td>
          <td class="paramname"><em>method</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This is overload method. Registers a type with factory method and empty tag with the locator. </p>

</div>
</div>
<a class="anchor" id="a741fc7788a0db0b71c7e530a0507eddc"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename TInterface &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classIServiceLocator.html#ae7e3d914fb9a2551eef83fbe41b7db7b">IServiceLocator::registerType</a> </td>
          <td>(</td>
          <td class="paramtype">factoryMethod&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="qt.tag:http://qt-project.org/doc/qt-4.8//" href="http://qt-project.org/doc/qt-4.8/qstring.html">QString</a> &amp;&#160;</td>
          <td class="paramname"><em>tag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Registers a type with factory method and specified tag with the locator. The <em>method</em> should return new instance of the <em>TInterface</em> type. </p>

</div>
</div>
<a class="anchor" id="a2bf7a7ebe54816b14dbbad4f4a34e4f0"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename TService &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">TService * <a class="el" href="classIServiceLocator.html#a2bf7a7ebe54816b14dbbad4f4a34e4f0">IServiceLocator::unregisterInstance</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="elRef" doxygen="qt.tag:http://qt-project.org/doc/qt-4.8//" href="http://qt-project.org/doc/qt-4.8/qstring.html">QString</a> &amp;&#160;</td>
          <td class="paramname"><em>tag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Unregisters a service instance with specified type and tag from the locator (if any) and removes it from the locator map.</p>
<dl class=""><dt><b>Template Parameters:</b></dt><dd>
  <table class="">
    <tr><td class="paramname">TService</td><td>The type which type name will be found while.</td></tr>
  </table>
  </dd>
</dl>
<p>Returns found instance or nullptr, if instance with specified type and tag was not found.</p>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="classIServiceLocator.html#a1c1652e0858eed9863b44be8ef922bea">registerInstance()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a1576e31890d3931ab9bbaec3e5b0d41e"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename TService &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">TService * <a class="el" href="classIServiceLocator.html#a2bf7a7ebe54816b14dbbad4f4a34e4f0">IServiceLocator::unregisterInstance</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This is overload method. Unregisters a service instance with specified type from the locator (if any) and removes it from the locator map.</p>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="classIServiceLocator.html#a1c1652e0858eed9863b44be8ef922bea">registerInstance()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a7ce1ab2edb383b28080c6b3715470c9c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void* <a class="el" href="classIServiceLocator.html#a7ce1ab2edb383b28080c6b3715470c9c">IServiceLocator::buildInstanceImpl</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="elRef" doxygen="qt.tag:http://qt-project.org/doc/qt-4.8//" href="http://qt-project.org/doc/qt-4.8/qstring.html">QString</a> &amp;&#160;</td>
          <td class="paramname"><em>forClassName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="qt.tag:http://qt-project.org/doc/qt-4.8//" href="http://qt-project.org/doc/qt-4.8/qstring.html">QString</a> &amp;&#160;</td>
          <td class="paramname"><em>tag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [protected, pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>When overridden in derived classes finds the factory method associated with specified type id and specified <em>tag</em> in inner objects dictionary and creates instance of the interface using factory method </p>
<dl class="section return"><dt>Returns:</dt><dd>The raw pointer corresponded with specified interface id and tag if such found. Null pointer otherwise. </dd></dl>

<p>Implemented in <a class="el" href="classServiceLocator.html#ae39e892014467728be4d179b17e3faff">ServiceLocator</a>.</p>

</div>
</div>
<a class="anchor" id="af25e5d85e72544f1d6a6abdda231e205"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void* <a class="el" href="classIServiceLocator.html#af25e5d85e72544f1d6a6abdda231e205">IServiceLocator::getService</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="elRef" doxygen="qt.tag:http://qt-project.org/doc/qt-4.8//" href="http://qt-project.org/doc/qt-4.8/qstring.html">QString</a> &amp;&#160;</td>
          <td class="paramname"><em>forClassName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="qt.tag:http://qt-project.org/doc/qt-4.8//" href="http://qt-project.org/doc/qt-4.8/qstring.html">QString</a> &amp;&#160;</td>
          <td class="paramname"><em>tag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [protected, pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>When overridden in derived classes finds the pointer associated with specified type id and specified <em>tag</em> in inner objects dictionary. </p>
<dl class="section return"><dt>Returns:</dt><dd>The raw pointer corresponded with specified type id and tag if such found. Null pointer otherwise. </dd></dl>

<p>Implemented in <a class="el" href="classServiceLocator.html#af1699dcc47008101d9820c8a78ffaaf4">ServiceLocator</a>.</p>

</div>
</div>
<a class="anchor" id="a614c9500e33f0930f58932ae18ba3a1d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="classIServiceLocator.html#a614c9500e33f0930f58932ae18ba3a1d">IServiceLocator::registerInstanceImpl</a> </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="qt.tag:http://qt-project.org/doc/qt-4.8//" href="http://qt-project.org/doc/qt-4.8/qstring.html">QString</a> &amp;&#160;</td>
          <td class="paramname"><em>forClassName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="qt.tag:http://qt-project.org/doc/qt-4.8//" href="http://qt-project.org/doc/qt-4.8/qstring.html">QString</a> &amp;&#160;</td>
          <td class="paramname"><em>tag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>When overridden in derived classes registers a raw pointer with specified tag in inner objects dictionary. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">forClassName</td><td>The name of type which <em>instance</em> should be associated with. </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classServiceLocator.html#ad264452ee3bd9d1616cb595c3d5c1354">ServiceLocator</a>.</p>

</div>
</div>
<a class="anchor" id="a3c5e1fcd65a87a5f5f66987fdb16b121"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void* <a class="el" href="classIServiceLocator.html#a3c5e1fcd65a87a5f5f66987fdb16b121">IServiceLocator::unregisterInstanceImpl</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="elRef" doxygen="qt.tag:http://qt-project.org/doc/qt-4.8//" href="http://qt-project.org/doc/qt-4.8/qstring.html">QString</a> &amp;&#160;</td>
          <td class="paramname"><em>forClassName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="qt.tag:http://qt-project.org/doc/qt-4.8//" href="http://qt-project.org/doc/qt-4.8/qstring.html">QString</a> &amp;&#160;</td>
          <td class="paramname"><em>tag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>When overridden in derived classes unregisters (removes) a service instance with specified type id and tag from the inner objects dictionary (if any). </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">forClassName</td><td>The name of type which removed instance should be associated with. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>The raw pointer corresponded with specified type id and tag if such found. Null pointer otherwise. </dd></dl>

<p>Implemented in <a class="el" href="classServiceLocator.html#a50ae5d7a48a4168ee8c5246859a3519d">ServiceLocator</a>.</p>

</div>
</div>
<a class="anchor" id="a53fac4e48c42c8636acba15e07db561f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="classIServiceLocator.html#a53fac4e48c42c8636acba15e07db561f">IServiceLocator::registerTypeImpl</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="elRef" doxygen="qt.tag:http://qt-project.org/doc/qt-4.8//" href="http://qt-project.org/doc/qt-4.8/qstring.html">QString</a> &amp;&#160;</td>
          <td class="paramname"><em>forClassName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">factoryMethod&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="qt.tag:http://qt-project.org/doc/qt-4.8//" href="http://qt-project.org/doc/qt-4.8/qstring.html">QString</a> &amp;&#160;</td>
          <td class="paramname"><em>tag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>When overridden in derived classes binds an interface type id with specified factory method (that should create instance of interface) and with specified tag in inner objects dictionary. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">forClassName</td><td>The name of type which <em>factory</em> method should be associated with. </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classServiceLocator.html#ae2584791a612befc72633a132b083cbb">ServiceLocator</a>.</p>

</div>
</div>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Tue May 21 2013 22:36:24 for Carousel by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.0
</small></address>

</body>
</html>
